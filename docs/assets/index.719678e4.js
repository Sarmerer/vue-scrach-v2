import{n as o,b as a,S as h}from"./index.9d4effe5.js";import{m as i,B as $}from"./Block.c7a60f7f.js";var x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],attrs:{type:"text",placeholder:e.field.placeholder},domProps:{value:e.field.value},on:{input:function(n){n.target.composing||e.$set(e.field,"value",n.target.value)}}})},y=[];const k={name:"BlockTextField",mixins:[i]},u={};var b=o(k,x,y,!1,g,null,null,null);function g(e){for(let t in u)this[t]=u[t]}const F=function(){return b.exports}();var w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],attrs:{type:"number",placeholder:e.field.placeholder},domProps:{value:e.field.value},on:{input:function(n){n.target.composing||e.$set(e.field,"value",n.target.value)}}})},M=[];const S={mixins:[i]},_={};var C=o(S,w,M,!1,B,null,null,null);function B(e){for(let t in _)this[t]=_[t]}const P=function(){return C.exports}();var R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],on:{click:e.updateOptions,change:function(n){var l=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){var c="_value"in r?r._value:r.value;return c});e.$set(e.field,"value",n.target.multiple?l:l[0])}}},[s("option",{attrs:{selected:"",disabled:"",hidden:""},domProps:{value:null,textContent:e._s(e.field.placeholder)}}),e._l(e.field.options,function(n,l){return s("option",{key:l,domProps:{value:n,textContent:e._s(n)}})})],2)},j=[];const E={mixins:[i],methods:{updateOptions(){this.field.updateOptions()}}},d={};var N=o(E,R,j,!1,O,null,null,null);function O(e){for(let t in d)this[t]=d[t]}const A=function(){return N.exports}();var V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{directives:[{name:"model",rawName:"v-model",value:e.field.value,expression:"field.value"}],on:{click:e.updateOptions,change:function(n){var l=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){var c="_value"in r?r._value:r.value;return c});e.$set(e.field,"value",n.target.multiple?l:l[0])}}},[e.variables.length?e._e():s("option",{attrs:{disabled:""},domProps:{textContent:e._s("You have no variables")}}),e._l(e.variables,function(n){return s("option",{key:n,domProps:{value:n,textContent:e._s(n)}})})],2)},I=[];const T={mixins:[i],data(){return{variables:[]}},mounted(){this.updateOptions()},methods:{updateOptions(){this.variables=this.field.block.scratch.getVariables().map(e=>e.name)}}},v={};var q=o(T,V,I,!1,z,null,null,null);function z(e){for(let t in v)this[t]=v[t]}const L=function(){return q.exports}();var Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.component,e._b({tag:"component",staticClass:"aphrodite__field"},"component",{style:e.style,field:e.field},!1))},D=[];const G={mixins:[i],computed:{component(){switch(this.field.type){case a.Text:return F;case a.Number:return P;case a.Select:return A;case a.Variable:return L}},style(){return{width:`${this.field.width}px`,height:`${this.field.height}px`,transform:`translate(${this.absolutePosition.x}px, ${this.absolutePosition.y}px)`}}}},p={};var H=o(G,Y,D,!1,J,null,null,null);function J(e){for(let t in p)this[t]=p[t]}const K=function(){return H.exports}();var Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"scratch__aphrodite__mask",attrs:{id:`${e.scratch.id}.mask`}},[e._t("default"),e._l(e.fields,function(n){return s("Field",e._b({key:n.id,staticClass:"scratch__block__field__aphrodite-mask"},"Field",{field:n},!1))})],2)},U=[];const W={props:{scratch:{type:h,required:!0}},components:{Field:K},computed:{fields(){const e=[];for(const t of this.scratch.blocks)for(const s of t.inputs)for(const n of s.fields)n.type!==a.Label&&e.push(n);return e}}},f={};var X=o(W,Q,U,!1,Z,"36accc7e",null,null);function Z(e){for(let t in f)this[t]=f[t]}const ee=function(){return X.exports}();var te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("InputsMask",e._b({},"InputsMask",{scratch:e.scratch},!1),[s("svg",{staticClass:"scratch__blocks scratch__blocks-aphrodite",attrs:{version:"1.1",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",id:e.scratch.id}},e._l(e.blocks_,function(n){return s("Block",e._b({key:n.id},"Block",{block:n},!1))}),1)])},ne=[];const se={name:"BlocksRenderer",props:{scratch:{type:h,required:!0},blocks:Array},components:{Block:$,InputsMask:ee},computed:{blocks_(){return Array.isArray(this.blocks)?this.blocks:this.scratch.getBlocks()}}},m={};var re=o(se,te,ne,!1,le,"89676a56",null,null);function le(e){for(let t in m)this[t]=m[t]}const ie=function(){return re.exports}();export{ie as default};
